bundle:
  name: base-deployment-template

variables:
  notification_email:
    description: "Email for notifications"
    default: "data-engineering@company.com"

  spark_version:
    description: "Databricks runtime version"
    default: "14.3.x-scala2.12"

  environment_suffix:
    description: "Environment suffix for feature branches"
    default: ""

  default_node_type:
    description: "Default node type for clusters"
    default: "Standard_DS3_v2"

  admin_cluster_id:
    description: "Existing cluster ID for admin tasks"
    default: ""

include:
  - resources: ./shared/resources/*.yml

targets:
  dev:
    mode: development
    default: true
    workspace:
      root_path: /Workspace/Users/${workspace.current_user.userName}/.bundle/${bundle.name}${var.environment_suffix}

  # Prod config kept as reference - not used for this project
  prod:
    mode: production
    workspace:
      root_path: /Workspace/Shared/.bundle/${bundle.name}/prod
resources:
  pipelines:
    turbofan_dlt_pipeline:
      name: "Turbofan Predictive Maintenance - ${bundle.target}"
      target: "${var.schema_name}"
      serverless: true

      configuration:
        catalog_name: "${var.catalog_name}"
        schema_name: "${var.schema_name}"
        project_name: "${var.project_name}"
        landing_zone_path: "${var.landing_zone_path}"
        checkpoint_path: "${var.checkpoint_path}"

      libraries:
        - file:
            path: ${var.project_workspace_path}/src/dlt/dlt_pipeline.py

      development: false
      continuous: false
      channel: CURRENT
      edition: ADVANCED
      catalog: ${var.catalog_name}

      notifications:
        - email_recipients:
            - ${var.notification_email}
          alerts:
            - "on-update-failure"
            - "on-flow-failure"